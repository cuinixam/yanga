platforms:
  - name: win_exe
    description: Build Windows executable with clang
    cmake_generators:
      - step: CreateExecutableCMakeGenerator
        module: yanga.cmake.create_executable
      - step: CppCheckCMakeGenerator
        module: yanga.cmake.cppcheck
      - step: ReportCMakeGenerator
        module: yanga.cmake.reports
    toolchain_file: clang.cmake
    is_default: true
  - name: gtest
    description: Build and run components GTest tests
    cmake_generators:
      - step: GTestCMakeGenerator
        module: yanga.cmake.gtest
        config:
            mocking:
              enabled: true
              strict: true
              exclude_symbol_patterns:
                - "_*"
      - step: CppCheckCMakeGenerator
        module: yanga.cmake.cppcheck
      - step: ReportCMakeGenerator
        module: yanga.cmake.reports
    toolchain_file: gcc.cmake
    west_manifest:
      remotes:
        - name: gtest
          url-base: https://github.com/google
      projects:
        - name: googletest
          remote: gtest
          revision: v1.16.0
          path: gtest
